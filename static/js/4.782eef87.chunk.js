(this.webpackJsonpekip=this.webpackJsonpekip||[]).push([[4],{94:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n(7),c=n.n(a),r=n(48),s=n(6);var o=function(e){var t=Object(i.useState)(),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(i.useState)(),o=Object(s.a)(r,2),d=o[0],u=o[1],l=Object(i.useState)(!1),p=Object(s.a)(l,2),j=p[0],m=p[1],b=Object(i.useState)(),f=Object(s.a)(b,2),v=f[0],O=f[1];return Object(i.useEffect)((function(){var e=document.getElementById("audio"),t=function(){c(e.duration),u(e.currentTime)},n=function(){return u(e.currentTime)},i=function(){u(null),m(!1)};return e.addEventListener("loadeddata",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",i),j?e.play():e.pause(),v&&v!==d&&(e.currentTime=v,O(null)),function(){e.removeEventListener("loadeddata",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",i)}}),[j,v,d]),Object(i.useEffect)((function(){if(j){var e=document.getElementById("audio");e.load(),e.play(),u(null)}}),[e,j]),{curTime:d,duration:a,playing:j,setPlaying:m,setClickedTime:O,setDuration:c}},d=n(91),u=n(93),l=n(0),p=function(e){var t=e.duration,n=e.curTime,i=e.onTimeUpdate,a=n/t*100;function c(e){if(e){var t=Object(d.a)(new Date(0),e);return Object(u.a)(t,"mm:ss")}}function r(e){var n=e.pageX,i=document.querySelector(".audio-player__bar__progress"),a=i.getBoundingClientRect().left+window.scrollX,c=i.offsetWidth;return t/c*(n-a)}return Object(l.jsxs)("div",{className:"audio-player__bar",children:[Object(l.jsx)("span",{className:"audio-player__bar__time",children:c(n)}),Object(l.jsx)("div",{className:"audio-player__bar__progress",style:{background:"linear-gradient(to right, #8ca89b ".concat(a,"%, white 0)")},onMouseDown:function(e){return function(e){i(r(e));var t=function(e){i(r(e))};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t)}))}(e)},children:Object(l.jsx)("span",{className:"audio-player__bar__progress__knob",style:{left:"".concat(a-2,"%")}})}),Object(l.jsx)("span",{className:"audio-player__bar__time",children:c(t)})]})},j=n(46),m=function(e){var t=e.handleClick;return Object(l.jsx)("button",{className:"audio-player__button",onClick:function(){return t()},children:Object(l.jsx)(j.a,{})})},b=n(47),f=function(e){var t=e.handleClick;return Object(l.jsx)("button",{className:"audio-player__button",onClick:function(){return t()},children:Object(l.jsx)(b.a,{})})},v=n.p+"static/media/itw-polo.d7858915.mp3",O=n.p+"static/media/itw-freins.f6ffe453.mp3",_=n.p+"static/media/itw-pedale.ead08cb5.mp3",h=n.p+"static/media/itw-pignon.3582b749.mp3",y=n.p+"static/media/itw-protec-disque.a247f916.mp3",x=n.p+"static/media/itw-protec-valve.aca7885d.mp3",g=n.p+"static/media/itw-roue.90dc13cf.mp3",k=n(45),w=[{id:"polo",src:v},{id:"freins",src:O},{id:"pedale",src:_},{id:"pignon",src:h},{id:"protecDisque",src:y},{id:"protecValve",src:x},{id:"roue",src:g}];t.default=function(e){var t=e.open,n=Object(i.useContext)(r.a),a=n.audioSrc,s=n.audioPlaying,d=n.setAudioPlaying,u=n.setAudioSrc,j=o(a),b=j.curTime,v=j.duration,O=j.playing,_=j.setPlaying,h=j.setClickedTime;Object(i.useEffect)((function(){_(s)}),[_,s]);var y=Object(i.useCallback)((function(){u(null)}),[u]);return Object(l.jsx)("div",{className:c()("audio-player",{"audio-player--is-open":t}),children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-12",children:Object(l.jsxs)("div",{className:"audio-player__content",children:[a&&Object(l.jsxs)("div",{className:"audio-player__content-inner",children:[Object(l.jsxs)("audio",{id:"audio",preload:"none",children:[Object(l.jsx)("source",{src:w.find((function(e){return e.id===a.id})).src}),"Your browser does not support the ",Object(l.jsx)("code",{children:"audio"})," element."]}),O?Object(l.jsx)(f,{handleClick:function(){_(!1),d(!1)}}):Object(l.jsx)(m,{handleClick:function(){_(!0),d(!0)}}),Object(l.jsx)("p",{children:a.title}),Object(l.jsx)(p,{curTime:b,duration:v,onTimeUpdate:function(e){return h(e)}})]}),Object(l.jsx)("button",{className:"audio-player__close",onClick:y,children:Object(l.jsx)(k.a,{})})]})})})})})}}}]);
//# sourceMappingURL=4.782eef87.chunk.js.map