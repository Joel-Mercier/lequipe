{"version":3,"sources":["hooks/useAudioPlayer.js","assets/play.svg","components/AudioPlayer/Bar.jsx","assets/pause.svg","components/AudioPlayer/Play.jsx","components/AudioPlayer/Pause.jsx","assets/audio/itw-polo.mp3","assets/audio/itw-freins.mp3","assets/audio/itw-pedale.mp3","assets/audio/itw-pignon.mp3","assets/audio/itw-protec-disque.mp3","assets/audio/itw-protec-valve.mp3","assets/audio/itw-roue.mp3","components/AudioPlayer/AudioPlayer.jsx"],"names":["useAudioPlayer","_path","_path2","src","useState","duration","setDuration","curTime","setCurTime","playing","setPlaying","clickedTime","setClickedTime","useEffect","audio","document","getElementById","setAudioData","currentTime","setAudioTime","setAudioEnd","addEventListener","play","pause","removeEventListener","load","Bar","onTimeUpdate","curPercentage","formatDuration","helperDate","addSeconds","Date","format","calcClickedTime","e","clickPositionInPage","pageX","bar","querySelector","barStart","getBoundingClientRect","left","window","scrollX","barWidth","offsetWidth","className","style","background","onMouseDown","updateTimeOnMove","eMove","handleTimeDrag","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgPlay","_ref","svgRef","title","titleId","props","focusable","viewBox","role","ref","id","fill","d","ForwardRef","Play","handleClick","onClick","SvgPause","Pause","audioFiles","polo","freins","pedale","pignon","protecDisque","protecValve","roue","AudioPlayer","open","useContext","StateContext","audioSrc","audioPlaying","setAudioPlaying","setAudioSrc","close","useCallback","classNames","preload","find","file","time"],"mappings":"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","file":"static/js/4.d1c7b500.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\n\nfunction useAudioPlayer(src) {\n  const [duration, setDuration] = useState();\n  const [curTime, setCurTime] = useState();\n  const [playing, setPlaying] = useState(false);\n  const [clickedTime, setClickedTime] = useState();\n\n  useEffect(() => {\n    const audio = document.getElementById(\"audio\");\n    // const source = document.querySelector(\"#audio source\")\n\n    // state setters wrappers\n    const setAudioData = () => {\n      setDuration(audio.duration);\n      setCurTime(audio.currentTime);\n    }\n\n    const setAudioTime = () => setCurTime(audio.currentTime);\n\n    const setAudioEnd = () => {\n      setCurTime(null);\n      setPlaying(false);\n    }\n\n    // DOM listeners: update React state on DOM events\n    audio.addEventListener(\"loadeddata\", setAudioData);\n\n    audio.addEventListener(\"timeupdate\", setAudioTime);\n\n    audio.addEventListener(\"ended\", setAudioEnd)\n\n    // React state listeners: update DOM on React state changes\n    playing ? audio.play() : audio.pause();\n\n    if (clickedTime && clickedTime !== curTime) {\n      audio.currentTime = clickedTime;\n      setClickedTime(null);\n    } \n\n    // effect cleanup\n    return () => {\n      audio.removeEventListener(\"loadeddata\", setAudioData);\n      audio.removeEventListener(\"timeupdate\", setAudioTime);\n      audio.removeEventListener(\"ended\", setAudioEnd);\n    }\n  }, [playing, clickedTime, curTime]);\n\n  useEffect(() => {\n    if (playing) {\n      const audio = document.getElementById(\"audio\");\n      audio.load();\n      audio.play();\n      setCurTime(null);\n    }\n  }, [src, playing])\n\n  return {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime,\n    setDuration\n  }\n}\n\nexport default useAudioPlayer;","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPlay(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    role: \"presentation\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlay);\nexport default __webpack_public_path__ + \"static/media/play.3d021bfc.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { format, addSeconds } from 'date-fns';\n\nconst Bar = ({ duration, curTime, onTimeUpdate }) => {\n\n  const curPercentage = (curTime / duration) * 100;\n\n  function formatDuration(duration) {\n    if (duration) {\n      const helperDate = addSeconds(new Date(0), duration);\n      return format(helperDate, 'mm:ss')\n    }\n  }\n\n  function calcClickedTime(e) {\n    const clickPositionInPage = e.pageX;\n    const bar = document.querySelector(\".audio-player__bar__progress\");\n    const barStart = bar.getBoundingClientRect().left + window.scrollX;\n    const barWidth = bar.offsetWidth;\n    const clickPositionInBar = clickPositionInPage - barStart;\n    const timePerPixel = duration / barWidth;\n    return timePerPixel * clickPositionInBar;\n  }\n\n  function handleTimeDrag(e) {\n    onTimeUpdate(calcClickedTime(e));\n\n    const updateTimeOnMove = eMove => {\n      onTimeUpdate(calcClickedTime(eMove));\n    };\n\n    document.addEventListener(\"mousemove\", updateTimeOnMove);\n\n    document.addEventListener(\"mouseup\", () => {\n      document.removeEventListener(\"mousemove\", updateTimeOnMove);\n    });\n  }\n\n  return (\n    <div className=\"audio-player__bar\">\n      <span className=\"audio-player__bar__time\">{formatDuration(curTime)}</span>\n      <div\n        className=\"audio-player__bar__progress\"\n        style={{\n          background: `linear-gradient(to right, #8ca89b ${curPercentage}%, white 0)`\n        }}\n        onMouseDown={e => handleTimeDrag(e)}\n      >\n        <span\n          className=\"audio-player__bar__progress__knob\"\n          style={{ left: `${curPercentage - 2}%` }}\n        />\n      </div>\n      <span className=\"audio-player__bar__time\">{formatDuration(duration)}</span>\n    </div>\n  );\n};\n\nexport default Bar;\n","var _path, _path2;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPause(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    focusable: \"false\",\n    viewBox: \"0 0 24 24\",\n    \"aria-hidden\": \"true\",\n    role: \"presentation\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPause);\nexport default __webpack_public_path__ + \"static/media/pause.77bdd41c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { ReactComponent as PlayIcon } from '../../assets/play.svg';\n\nconst Play = ({ handleClick }) => {\n  return (\n    <button className=\"audio-player__button\" onClick={() => handleClick()}>\n      <PlayIcon />\n    </button>\n  );\n};\n\nexport default Play;","import React from 'react';\nimport { ReactComponent as PauseIcon } from '../../assets/pause.svg'\n\nconst Pause = ({ handleClick }) => {\n  return (\n    <button className=\"audio-player__button\" onClick={() => handleClick()}>\n      <PauseIcon />\n    </button>\n  );\n};\n\nexport default Pause;","export default __webpack_public_path__ + \"static/media/itw-polo.d7858915.mp3\";","export default __webpack_public_path__ + \"static/media/itw-freins.f6ffe453.mp3\";","export default __webpack_public_path__ + \"static/media/itw-pedale.ead08cb5.mp3\";","export default __webpack_public_path__ + \"static/media/itw-pignon.3582b749.mp3\";","export default __webpack_public_path__ + \"static/media/itw-protec-disque.a247f916.mp3\";","export default __webpack_public_path__ + \"static/media/itw-protec-valve.aca7885d.mp3\";","export default __webpack_public_path__ + \"static/media/itw-roue.90dc13cf.mp3\";","import React, { useEffect, useCallback, useContext } from 'react';\nimport classNames from 'classnames';\nimport { StateContext } from '../../App';\nimport useAudioPlayer from '../../hooks/useAudioPlayer';\nimport Bar from './Bar';\nimport Play from './Play';\nimport Pause from './Pause';\nimport polo from '../../assets/audio/itw-polo.mp3';\nimport freins from '../../assets/audio/itw-freins.mp3';\nimport pedale from '../../assets/audio/itw-pedale.mp3';\nimport pignon from '../../assets/audio/itw-pignon.mp3';\nimport protecDisque from '../../assets/audio/itw-protec-disque.mp3';\nimport protecValve from '../../assets/audio/itw-protec-valve.mp3';\nimport roue from '../../assets/audio/itw-roue.mp3';\nimport { ReactComponent as CloseIcon } from '../../assets/close.svg';\n\nconst audioFiles = [\n  {\n    id: \"polo\",\n    src: polo,\n  },\n  {\n    id: \"freins\",\n    src: freins\n  },\n  {\n    id: \"pedale\",\n    src: pedale\n  },\n  {\n    id: \"pignon\",\n    src: pignon\n  },\n  {\n    id: \"protecDisque\",\n    src: protecDisque\n  },\n  {\n    id: \"protecValve\",\n    src: protecValve\n  },\n  {\n    id: \"roue\",\n    src: roue\n  },\n];\n\nconst AudioPlayer = ({ open }) => {\n  const { audioSrc, audioPlaying, setAudioPlaying, setAudioSrc } = useContext(StateContext);\n  const { curTime, duration, playing, setPlaying, setClickedTime } = useAudioPlayer(audioSrc);\n\n  useEffect(() => {\n    setPlaying(audioPlaying);\n  }, [setPlaying, audioPlaying]);\n  \n  const close = useCallback(() => {\n    setAudioSrc(null);\n  }, [setAudioSrc]);\n\n  return (\n    <div className={classNames(\"audio-player\", {\"audio-player--is-open\": open})}>\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"audio-player__content\">\n              {audioSrc &&\n                <div className=\"audio-player__content-inner\">\n                  <audio id=\"audio\" preload=\"none\">\n                    <source src={audioFiles.find(file => file.id === audioSrc.id).src} />\n                    Your browser does not support the <code>audio</code> element.\n                  </audio>\n                  {playing ? \n                    <Pause handleClick={() => {\n                      setPlaying(false);\n                      setAudioPlaying(false);\n                    }} /> :\n                    <Play handleClick={() => {\n                      setPlaying(true);\n                      setAudioPlaying(true);\n                    }} />\n                  }\n                  <p>{audioSrc.title}</p>\n                  <Bar curTime={curTime} duration={duration} onTimeUpdate={(time) => setClickedTime(time)}/>\n                </div>\n              }\n              <button className=\"audio-player__close\" onClick={close}>\n                <CloseIcon />\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AudioPlayer;"],"sourceRoot":""}