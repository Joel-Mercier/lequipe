(this.webpackJsonpekip=this.webpackJsonpekip||[]).push([[4],{93:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(8),i=n.n(a),c=n(47),o=n(4);var l,s,u=function(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(),l=Object(o.a)(c,2),s=l[0],u=l[1],d=Object(r.useState)(!1),p=Object(o.a)(d,2),f=p[0],b=p[1],m=Object(r.useState)(),j=Object(o.a)(m,2),v=j[0],O=j[1];return Object(r.useEffect)((function(){var e=document.getElementById("audio"),t=function(){i(e.duration),u(e.currentTime)},n=function(){return u(e.currentTime)},r=function(){u(null),b(!1)};return e.addEventListener("loadeddata",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),f?e.play():e.pause(),v&&v!==s&&(e.currentTime=v,O(null)),function(){e.removeEventListener("loadeddata",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[f,v,s]),Object(r.useEffect)((function(){if(f){var e=document.getElementById("audio");e.load(),e.play(),u(null)}}),[e,f]),{curTime:s,duration:a,playing:f,setPlaying:b,setClickedTime:O,setDuration:i}},d=n(90),p=n(92),f=n(0),b=function(e){var t=e.duration,n=e.curTime,r=e.onTimeUpdate,a=n/t*100;function i(e){if(e){var t=Object(d.a)(new Date(0),e);return Object(p.a)(t,"mm:ss")}}function c(e){var n=e.pageX,r=document.querySelector(".audio-player__bar__progress"),a=r.getBoundingClientRect().left+window.scrollX,i=r.offsetWidth;return t/i*(n-a)}return Object(f.jsxs)("div",{className:"audio-player__bar",children:[Object(f.jsx)("span",{className:"audio-player__bar__time",children:i(n)}),Object(f.jsx)("div",{className:"audio-player__bar__progress",style:{background:"linear-gradient(to right, #8ca89b ".concat(a,"%, white 0)")},onMouseDown:function(e){return function(e){r(c(e));var t=function(e){r(c(e))};document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",t)}))}(e)},children:Object(f.jsx)("span",{className:"audio-player__bar__progress__knob",style:{left:"".concat(a-2,"%")}})}),Object(f.jsx)("span",{className:"audio-player__bar__time",children:i(t)})]})};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function v(e,t){var n=e.title,a=e.titleId,i=j(e,["title","titleId"]);return r.createElement("svg",m({focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,l||(l=r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),s||(s=r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"})))}var O,h,y=r.forwardRef(v),_=(n.p,function(e){var t=e.handleClick;return Object(f.jsx)("button",{className:"audio-player__button",onClick:function(){return t()},children:Object(f.jsx)(y,{})})});function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w(e,t){var n=e.title,a=e.titleId,i=x(e,["title","titleId"]);return r.createElement("svg",g({focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",role:"presentation",ref:t,"aria-labelledby":a},i),n?r.createElement("title",{id:a},n):null,O||(O=r.createElement("path",{fill:"none",d:"M0 0h24v24H0z"})),h||(h=r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"})))}var E=r.forwardRef(w),k=(n.p,function(e){var t=e.handleClick;return Object(f.jsx)("button",{className:"audio-player__button",onClick:function(){return t()},children:Object(f.jsx)(E,{})})}),C=n.p+"static/media/itw-polo.d7858915.mp3",N=n.p+"static/media/itw-freins.f6ffe453.mp3",S=n.p+"static/media/itw-pedale.ead08cb5.mp3",T=n.p+"static/media/itw-pignon.3582b749.mp3",P=n.p+"static/media/itw-protec-disque.a247f916.mp3",L=n.p+"static/media/itw-protec-valve.aca7885d.mp3",I=n.p+"static/media/itw-roue.90dc13cf.mp3",z=n(46),B=[{id:"polo",src:C},{id:"freins",src:N},{id:"pedale",src:S},{id:"pignon",src:T},{id:"protecDisque",src:P},{id:"protecValve",src:L},{id:"roue",src:I}];t.default=function(e){var t=e.open,n=Object(r.useContext)(c.a),a=n.audioSrc,o=n.audioPlaying,l=n.setAudioPlaying,s=n.setAudioSrc,d=u(a),p=d.curTime,m=d.duration,j=d.playing,v=d.setPlaying,O=d.setClickedTime;Object(r.useEffect)((function(){v(o)}),[v,o]);var h=Object(r.useCallback)((function(){s(null)}),[s]);return Object(f.jsx)("div",{className:i()("audio-player",{"audio-player--is-open":t}),children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-12",children:Object(f.jsxs)("div",{className:"audio-player__content",children:[a&&Object(f.jsxs)("div",{className:"audio-player__content-inner",children:[Object(f.jsxs)("audio",{id:"audio",preload:"none",children:[Object(f.jsx)("source",{src:B.find((function(e){return e.id===a.id})).src}),"Your browser does not support the ",Object(f.jsx)("code",{children:"audio"})," element."]}),j?Object(f.jsx)(k,{handleClick:function(){v(!1),l(!1)}}):Object(f.jsx)(_,{handleClick:function(){v(!0),l(!0)}}),Object(f.jsx)("p",{children:a.title}),Object(f.jsx)(b,{curTime:p,duration:m,onTimeUpdate:function(e){return O(e)}})]}),Object(f.jsx)("button",{className:"audio-player__close",onClick:h,children:Object(f.jsx)(z.a,{})})]})})})})})}}}]);
//# sourceMappingURL=4.b6bfcd45.chunk.js.map